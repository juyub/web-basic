<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script
      src="https://code.jquery.com/jquery-3.6.4.js"
      integrity="sha256-a9jBBRygX1Bh5lt8GZjXDzyOB+bWve9EiO7tROUtj/E="
      crossorigin="anonymous"
    ></script>
    <style>
      #container {
        position: relative;
        width: 300px;
        height: 300px;
        border: 1px black solid;
      }
      #wing {
        position: absolute;
        width: 50px;
        height: 50px;
        background-color: red;
        top: 125px;
        left: 125px;
      }
    </style>
  </head>
  <body>
    <div id="container">
      <img id="wing" src="wing.png" alt="" />
    </div>
    <script>
      //   $(function () {
      //     // 변수 선언 및 초기화 코드 생략

      //     $("body").keydown(function (event) {
      //       var direction = "";
      //       switch (event.which) {
      //         case 37: // left
      //           wingLeft -= wingSpeed;
      //           if (wingLeft < 0) {
      //             wingLeft = 0;
      //           }
      //           direction = "left";
      //           break;
      //         case 38: // up
      //           wingTop -= wingSpeed;
      //           if (wingTop < 0) {
      //             wingTop = 0;
      //           }
      //           direction = "up";
      //           break;
      //         case 39: // right
      //           wingLeft += wingSpeed;
      //           if (wingLeft + wingWidth > containerWidth) {
      //             wingLeft = containerWidth - wingWidth;
      //           }
      //           direction = "right";
      //           break;
      //         case 40: // down
      //           wingTop += wingSpeed;
      //           if (wingTop + wingHeight > containerHeight) {
      //             wingTop = containerHeight - wingHeight;
      //           }
      //           direction = "down";
      //           break;
      //         default:
      //           return; // exit this handler for other keys
      //       }
      //       wing.css({ top: wingTop, left: wingLeft });

      //       console.log("이동: " + direction);

      //       event.preventDefault(); // prevent the default action (scroll / move caret)
      //     });
      //   });

      $(function () {
        var wing = $("#wing");
        var container = $("#container");
        var containerWidth = container.width();
        var containerHeight = container.height();
        var wingWidth = wing.width();
        var wingHeight = wing.height();
        var wingTop = parseInt(wing.css("top"));
        var wingLeft = parseInt(wing.css("left"));
        var wingSpeed = 10;

        $("body").keydown(function (event) {
          switch (event.which) {
            case 37: // left
              wingLeft -= wingSpeed;
              if (wingLeft < 0) {
                wingLeft = 0;
              }
              break;
            case 38: // up
              wingTop -= wingSpeed;
              if (wingTop < 0) {
                wingTop = 0;
              }
              break;
            case 39: // right
              wingLeft += wingSpeed;
              if (wingLeft + wingWidth > containerWidth) {
                wingLeft = containerWidth - wingWidth;
              }
              break;
            case 40: // down
              wingTop += wingSpeed;
              if (wingTop + wingHeight > containerHeight) {
                wingTop = containerHeight - wingHeight;
              }
              break;
            default:
              return; // exit this handler for other keys
          }
          wing.css({ top: wingTop, left: wingLeft });
          event.preventDefault(); // prevent the default action (scroll / move caret)
        });
      });
    </script>
  </body>
</html>
